# Xcode è°ƒè¯•æ—¥å¿—æŸ¥çœ‹æŒ‡å—

## é—®é¢˜ï¼šåœ¨ Xcode ä¸­çœ‹ä¸åˆ° NSLog æ‰“å°

### è§£å†³æ–¹æ¡ˆ

## æ–¹æ³• 1ï¼šä½¿ç”¨ Flutter å‘½ä»¤è¡ŒæŸ¥çœ‹æ—¥å¿—ï¼ˆæ¨èï¼‰

å¦‚æœæ‚¨æ˜¯é€šè¿‡ `flutter run` å¯åŠ¨åº”ç”¨çš„ï¼ŒiOS çš„ NSLog ä¼šè¾“å‡ºåˆ° Flutter æ§åˆ¶å°ï¼š

```bash
# å¯åŠ¨åº”ç”¨å¹¶æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
flutter run --verbose

# æˆ–è€…åœ¨åº”ç”¨è¿è¡Œæ—¶ï¼ŒæŒ‰ 'v' é”®åˆ‡æ¢è¯¦ç»†æ—¥å¿—æ¨¡å¼
```

**ä¼˜ç‚¹**ï¼š
- âœ… æœ€ç®€å•ç›´æ¥
- âœ… åŒ…å« Flutter å’ŒåŸç”Ÿæ—¥å¿—
- âœ… è‡ªåŠ¨è¿‡æ»¤å’Œæ ¼å¼åŒ–

---

## æ–¹æ³• 2ï¼šç›´æ¥åœ¨ Xcode ä¸­è¿è¡Œ

### æ­¥éª¤ 1ï¼šæ‰“å¼€ Xcode é¡¹ç›®

```bash
cd ios
open Runner.xcworkspace  # æ³¨æ„ï¼šæ˜¯ .xcworkspaceï¼Œä¸æ˜¯ .xcodeproj
```

### æ­¥éª¤ 2ï¼šé…ç½® Scheme

1. ç‚¹å‡»é¡¶éƒ¨å·¥å…·æ çš„ **Runner** æ—è¾¹çš„è®¾å¤‡é€‰æ‹©å™¨
2. é€‰æ‹© **Edit Scheme...**
3. å·¦ä¾§é€‰æ‹© **Run**
4. åˆ‡æ¢åˆ° **Arguments** æ ‡ç­¾
5. åœ¨ **Environment Variables** ä¸­æ·»åŠ ï¼š
   - Name: `OS_ACTIVITY_MODE`
   - Value: `disable`ï¼ˆè¿™ä¼šæ˜¾ç¤ºæ›´å¤šæ—¥å¿—ï¼‰

### æ­¥éª¤ 3ï¼šè¿è¡Œåº”ç”¨

1. é€‰æ‹©ç›®æ ‡è®¾å¤‡æˆ–æ¨¡æ‹Ÿå™¨
2. ç‚¹å‡»è¿è¡ŒæŒ‰é’®ï¼ˆâŒ˜Rï¼‰
3. æŸ¥çœ‹åº•éƒ¨çš„æ§åˆ¶å°è¾“å‡º

### æ­¥éª¤ 4ï¼šæ£€æŸ¥æ§åˆ¶å°è¿‡æ»¤å™¨

Xcode æ§åˆ¶å°åº•éƒ¨æœ‰è¿‡æ»¤é€‰é¡¹ï¼š

1. **æœç´¢æ¡†**ï¼šç¡®ä¿æ˜¯ç©ºçš„
2. **å³ä¾§æŒ‰é’®**ï¼š
   - ğŸ“± **All Output**ï¼šæ˜¾ç¤ºæ‰€æœ‰è¾“å‡º
   - âš ï¸ **Errors and Warnings**ï¼šåªæ˜¾ç¤ºé”™è¯¯å’Œè­¦å‘Š
   - ğŸ” **Filter**ï¼šè‡ªå®šä¹‰è¿‡æ»¤

ç¡®ä¿é€‰æ‹©äº† **All Output**ã€‚

---

## æ–¹æ³• 3ï¼šä½¿ç”¨ Console.app æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—

### æ­¥éª¤ 1ï¼šæ‰“å¼€ Console åº”ç”¨

**æ–¹å¼ Aï¼šé€šè¿‡ Xcode**
1. Xcode èœå•ï¼š**Window** â†’ **Devices and Simulators**
2. é€‰æ‹©æ‚¨çš„è®¾å¤‡
3. ç‚¹å‡»åº•éƒ¨çš„ **Open Console** æŒ‰é’®

**æ–¹å¼ Bï¼šç›´æ¥æ‰“å¼€**
1. æ‰“å¼€ macOS çš„ **Console** åº”ç”¨ï¼ˆåœ¨ Applications/Utilities ä¸­ï¼‰
2. å·¦ä¾§é€‰æ‹©æ‚¨çš„è®¾å¤‡
3. åœ¨æœç´¢æ¡†ä¸­è¾“å…¥ `Runner` æˆ– `FlutterPangleAds`

### æ­¥éª¤ 2ï¼šè¿‡æ»¤æ—¥å¿—

åœ¨æœç´¢æ¡†ä¸­è¾“å…¥å…³é”®è¯ï¼š
```
FlutterPangleAds
```

æˆ–è€…ä½¿ç”¨æ›´å…·ä½“çš„æœç´¢ï¼š
```
process:Runner AND message:FlutterPangleAds
```

---

## æ–¹æ³• 4ï¼šä½¿ç”¨ lldb å‘½ä»¤æŸ¥çœ‹æ—¥å¿—

åœ¨ Xcode è°ƒè¯•æ—¶ï¼Œå¯ä»¥åœ¨ lldb æ§åˆ¶å°è¾“å…¥å‘½ä»¤ï¼š

```lldb
# æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—
log stream --level debug

# åªæŸ¥çœ‹ç‰¹å®šè¿›ç¨‹çš„æ—¥å¿—
log stream --process Runner --level debug

# è¿‡æ»¤ç‰¹å®šå…³é”®è¯
log stream --predicate 'eventMessage contains "FlutterPangleAds"'
```

---

## æ–¹æ³• 5ï¼šä½¿ç”¨ instruments å·¥å…·

### æ­¥éª¤ï¼š

1. Xcode èœå•ï¼š**Product** â†’ **Profile**ï¼ˆâŒ˜Iï¼‰
2. é€‰æ‹© **Logging** æ¨¡æ¿
3. ç‚¹å‡»çº¢è‰²å½•åˆ¶æŒ‰é’®
4. è¿è¡Œåº”ç”¨
5. æŸ¥çœ‹è¯¦ç»†çš„ç³»ç»Ÿæ—¥å¿—

---

## éªŒè¯æ—¥å¿—æ˜¯å¦æ­£å¸¸å·¥ä½œ

è¿è¡Œåº”ç”¨åï¼Œæ‚¨åº”è¯¥èƒ½çœ‹åˆ°ä»¥ä¸‹æ—¥å¿—ï¼š

```
========================================
[FlutterPangleAds] initAd è¢«è°ƒç”¨
========================================
[FlutterPangleAds] App ID: 8025677
ğŸ§ª æ£€æµ‹åˆ° Pangle Global å®˜æ–¹æµ‹è¯• App ID: 8025677
ğŸ“ è¯·ç¡®ä¿ä½¿ç”¨å®˜æ–¹æµ‹è¯•å¹¿å‘Šä½ IDï¼Œå‚è€ƒ: PANGLE_GLOBAL_TEST_IDS.md
âœ… PAG SDK åˆå§‹åŒ–æˆåŠŸ
ğŸ“± SDK ç‰ˆæœ¬: 6.3.1.0
ğŸ”§ App ID: 8025677
initAd:YES
ğŸ‰ğŸ‰ğŸ‰ FlutterAds ==> åˆå§‹åŒ–å®Œæˆï¼Œæ¨èä½¿ç”¨ GroMore Pro ç‰ˆæœ¬ï¼Œè·å¾—æ›´é«˜çš„æ”¶ç›Šï¼šhttps://flutterads.top/
```

---

## å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆ NSLog åœ¨ iOS 14+ ä¸Šä¸æ˜¾ç¤ºï¼Ÿ

**A:** iOS 14+ é»˜è®¤ä½¿ç”¨ç»Ÿä¸€æ—¥å¿—ç³»ç»Ÿï¼ˆUnified Logging Systemï¼‰ï¼ŒNSLog çš„è¾“å‡ºå¯èƒ½è¢«è¿‡æ»¤ã€‚

**è§£å†³æ–¹æ³•**ï¼š
1. ä½¿ç”¨ `os_log` æ›¿ä»£ `NSLog`ï¼ˆå·²åœ¨ä»£ç ä¸­æ·»åŠ ï¼‰
2. æˆ–è€…åœ¨ Scheme ä¸­æ·»åŠ ç¯å¢ƒå˜é‡ `OS_ACTIVITY_MODE=disable`

### Q2: åœ¨çœŸæœºä¸Šçœ‹ä¸åˆ°æ—¥å¿—ï¼Œä½†æ¨¡æ‹Ÿå™¨å¯ä»¥ï¼Ÿ

**A:** çœŸæœºçš„æ—¥å¿—å¯èƒ½éœ€è¦é€šè¿‡ Console.app æŸ¥çœ‹ã€‚

**è§£å†³æ–¹æ³•**ï¼š
1. è¿æ¥è®¾å¤‡åˆ° Mac
2. æ‰“å¼€ Console.app
3. å·¦ä¾§é€‰æ‹©æ‚¨çš„è®¾å¤‡
4. æœç´¢ `Runner` æˆ– `FlutterPangleAds`

### Q3: æ—¥å¿—å¤ªå¤šï¼Œå¦‚ä½•è¿‡æ»¤ï¼Ÿ

**A:** ä½¿ç”¨æœç´¢å’Œè¿‡æ»¤åŠŸèƒ½ã€‚

**åœ¨ Xcode æ§åˆ¶å°**ï¼š
- åœ¨åº•éƒ¨æœç´¢æ¡†è¾“å…¥ï¼š`FlutterPangleAds`

**åœ¨ Console.app**ï¼š
- ä½¿ç”¨é«˜çº§è¿‡æ»¤ï¼š`process:Runner AND message:FlutterPangleAds`

**åœ¨ Flutter æ§åˆ¶å°**ï¼š
```bash
flutter run --verbose | grep "FlutterPangleAds"
```

### Q4: å¦‚ä½•ä¿å­˜æ—¥å¿—åˆ°æ–‡ä»¶ï¼Ÿ

**æ–¹æ³• Aï¼šåœ¨ç»ˆç«¯é‡å®šå‘**
```bash
flutter run --verbose > app_log.txt 2>&1
```

**æ–¹æ³• Bï¼šåœ¨ Xcode**
1. å³é”®ç‚¹å‡»æ§åˆ¶å°è¾“å‡º
2. é€‰æ‹© **Save Console Output**

**æ–¹æ³• Cï¼šä½¿ç”¨ Console.app**
1. é€‰æ‹©æ—¥å¿—
2. èœå•ï¼š**File** â†’ **Save**

---

## æ¨èçš„è°ƒè¯•å·¥ä½œæµ

### å¼€å‘é˜¶æ®µ

```bash
# 1. ä½¿ç”¨ Flutter å‘½ä»¤è¡Œï¼Œæœ€æ–¹ä¾¿
flutter run --verbose

# 2. åœ¨è¿è¡Œæ—¶æŒ‰ 'v' åˆ‡æ¢è¯¦ç»†æ—¥å¿—
# 3. ä½¿ç”¨ grep è¿‡æ»¤å…³é”®ä¿¡æ¯
flutter run --verbose | grep -E "FlutterPangleAds|PAG SDK|é”™è¯¯"
```

### æ·±åº¦è°ƒè¯•

```bash
# 1. åœ¨ Xcode ä¸­è¿è¡Œ
cd ios && open Runner.xcworkspace

# 2. è®¾ç½®æ–­ç‚¹
# 3. ä½¿ç”¨ lldb å‘½ä»¤æŸ¥çœ‹å˜é‡
# 4. ä½¿ç”¨ Console.app æŸ¥çœ‹å®Œæ•´ç³»ç»Ÿæ—¥å¿—
```

---

## æ—¥å¿—çº§åˆ«è¯´æ˜

ä»£ç ä¸­ä½¿ç”¨äº†ä¸åŒçš„æ—¥å¿—æ–¹æ³•ï¼š

### NSLog
```objectivec
NSLog(@"æ™®é€šæ—¥å¿—");  // å§‹ç»ˆè¾“å‡º
```

### os_log
```objectivec
os_log_info(OS_LOG_DEFAULT, "ä¿¡æ¯æ—¥å¿—");     // ä¿¡æ¯çº§åˆ«
os_log_error(OS_LOG_DEFAULT, "é”™è¯¯æ—¥å¿—");    // é”™è¯¯çº§åˆ«
os_log_debug(OS_LOG_DEFAULT, "è°ƒè¯•æ—¥å¿—");    // è°ƒè¯•çº§åˆ«ï¼ˆå¯èƒ½è¢«è¿‡æ»¤ï¼‰
```

### æŸ¥çœ‹ä¸åŒçº§åˆ«çš„æ—¥å¿—

åœ¨ Console.app ä¸­ï¼Œå¯ä»¥é€‰æ‹©æ˜¾ç¤ºçš„æ—¥å¿—çº§åˆ«ï¼š
- **Info and Debug**ï¼šæ˜¾ç¤ºæ‰€æœ‰æ—¥å¿—
- **Info**ï¼šåªæ˜¾ç¤ºä¿¡æ¯å’Œé”™è¯¯
- **Errors Only**ï¼šåªæ˜¾ç¤ºé”™è¯¯

---

## ç›¸å…³èµ„æº

- [Apple å®˜æ–¹æ–‡æ¡£ï¼šLogging](https://developer.apple.com/documentation/os/logging)
- [Xcode è°ƒè¯•æŒ‡å—](https://developer.apple.com/documentation/xcode/debugging)
- [Flutter iOS è°ƒè¯•](https://docs.flutter.dev/testing/debugging#debugging-ios-apps)

---

## å¿«é€Ÿæ£€æŸ¥æ¸…å•

è°ƒè¯•å‰è¯·ç¡®è®¤ï¼š

- [ ] ä½¿ç”¨ `flutter run --verbose` æˆ–ç›´æ¥åœ¨ Xcode ä¸­è¿è¡Œ
- [ ] Xcode æ§åˆ¶å°æœç´¢æ¡†ä¸ºç©º
- [ ] é€‰æ‹©äº† "All Output" è€Œä¸æ˜¯ "Errors and Warnings"
- [ ] å¦‚æœæ˜¯çœŸæœºï¼Œå°è¯•ä½¿ç”¨ Console.app
- [ ] æ£€æŸ¥æ˜¯å¦æœ‰ VPN æˆ–ç½‘ç»œä»£ç†å½±å“æ—¥å¿—è¾“å‡º
- [ ] ç¡®è®¤åº”ç”¨ç¡®å®è°ƒç”¨äº† `initAd` æ–¹æ³•

å¦‚æœä»¥ä¸Šéƒ½ç¡®è®¤äº†è¿˜æ˜¯çœ‹ä¸åˆ°æ—¥å¿—ï¼Œè¯·å°è¯•ï¼š
```bash
# å®Œå…¨æ¸…ç†å¹¶é‡æ–°æ„å»º
flutter clean
cd ios
rm -rf Pods Podfile.lock
pod install
cd ..
flutter run --verbose
```
